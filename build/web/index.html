<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Sales Order</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"  crossorigin="anonymous">

        <style>
            .center {
                margin: auto;
                width: 60%;

                padding: 10px;
                ;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>



            function total_price() {
                var quantity = document.getElementsByName('quantity[]');
                var rate = document.getElementsByName('rate[]');
                var discount = document.getElementsByName('discount[]');
                var amount = document.getElementsByName('amount[]');
                var totalamount = 0;
                // Use the length that is shortest.
                var length = quantity.length;
                var index;
                for (index = 0; index < length; index += 1) {
                    var total = parseInt(quantity[index].value) * parseInt(rate[index].value);
                    if (discount[index].value.length == 0)
                        discount[index].value = 0;
                    var amounts = (total - (total * parseInt(discount[index].value)) / 100);
                    amount[index].value = amounts;
                    totalamount = totalamount + amounts;

                }
                document.getElementById("totalamount").value = totalamount;
            }
            function addShippingCost()
            {
                var totalamount = document.getElementById("totalamount").value;
                var shippingcost = document.getElementById("shipmentcharge").value;
                document.getElementById("totalamount").value = parseInt(totalamount) + parseInt(shippingcost);
            }

            function add_row()
            {
                $rowno = $("#employee_table tr").length;
                $rowno = $rowno + 1;
                $("#employee_table tr:last").after("<tr id='row" + $rowno + "'><td><input class='form-control' type='text' name='itemname[]' id='itemname' placeholder='Enter Item Name'></td><td><input type='text' class='form-control' name='quantity[]' id='quantity' placeholder='Enter Quantity'></td><td><input type='text' name='rate[]' id='rate' placeholder='Enter Rate' onchange='total_price()' class='form-control'></td><td><input type='text' name='discount[]' placeholder='Enter Discount' id='discount' onchange='total_price()' class='form-control' ></td><td><input type='text' name='amount[]' placeholder='Enter Amount' class='form-control' id='amount' ></td><td><input type='button' value='DELETE' onclick=delete_row('row" + $rowno + "')></td></tr>");
            }
            function delete_row(rowno)
            {
                $('#' + rowno).remove();
            }




        </script>

    </head>
    <body>

        <header>
            <nav class="navbar navbar-expand-md navbar-dark" style="background-color:#05386b">
                <div>
                    <a href="ViewServlet" class="navbar-brand"> All Sales Orders </a>
                </div>
                 <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="PackageList">Packages</a>
      </li>
                 <li class="nav-item active">
        <a class="nav-link" href="ShippingList">Shipped </a>
      </li></ul>
                


            </nav>
           
        </header>
        <br>
        <div class="container"> 
            <div class="container col-md-10">
                <div class="card mx-auto"  style="width: 46rem;">
                    <div class="card-body">
                        <form class="well form-horizontal" action="Add" method="post"  >
                            <fieldset>

                                <!-- Form Name -->
                                <div class="page-header">
                                    <center>  <h2>Add new Sales Order</h2>  </center>
                                </div>
                                 <hr>
                                <div class="mx-auto">
                                    <div class="form-group">
                                        <label class="col-md-8 control-label">Customer Name</label>  
                                        <div class="col-md-17 inputGroupContainer">
                                            <div class="input-group">
                                                <input placeholder="Customer Name" class="form-control"  type="text" name="customername" required>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Text input-->

                                    <div class="form-group">
                                        <label class="col-md-8 control-label" >Sales Order Number</label> 
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="text" name="salesorderno" required>

                                            </div>

                                        </div>

                                    </div>

                                    <div class="form-group"> 

                                        <label  class="col-md-8 control-label" >Sales Order Date</label>
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="date" name="salesorderdate" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group"> 

                                        <label  class="col-md-8 control-label" >Expected Shipment Date</label>
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="date" name="expectedshipmentdate" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group"> 
                                        <label  class="col-md-8 control-label" >Payment Terms</label>
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="text" name="paymentterms" required>
                                            </div>
                                        </div>
                                    </div>

                                    <table id="employee_table" align=center>
                                        <tr>
                                            <th>Item Name</th>
                                            <th>Quantity</th>
                                            <th>Rate</th>
                                            <th>Discount</th>
                                            <th>Amount</th></tr>
                                        <tr id="row1">
                                            <td><input class="form-control"  type="text" name="itemname[]" id="itemname" placeholder="Enter Item Name"></td>
                                            <td><input class="form-control" type="text" name="quantity[]" id="quantity" placeholder="Enter Quantity"></td>
                                            <td><input class="form-control" type="text" name="rate[]" id="rate" placeholder="Enter Rate" onchange="total_price()"></td>
                                            <td><input class="form-control" type="text" name="discount[]" id="discount" placeholder="Enter Discount"
                                                       onchange="totalprice()"     ></td>
                                            <td><input class="form-control" type="text" name="amount[]" id="amount" placeholder="Enter Amount"></td>
                                        </tr>
                                    </table><br>
                                    &nbsp;&nbsp; <input type="button" class="btn btn-primary btn-sm" onclick="add_row();" value="ADD MORE">

                                    <div class="form-group"> 
                                        <label  class="col-md-8 control-label" >Shipment Charge</label>
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="text" id="shipmentcharge" onchange="addShippingCost()" name="shipmentcharge">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group"> 
                                        <label  class="col-md-8 control-label" >Total Amount</label>
                                        <div class="col-md-15 inputGroupContainer">
                                            <div class="input-group">
                                                <input class="form-control"  type="text" id="totalamount" name="totalamount">
                                            </div>
                                        </div>
                                    </div>


                                    &nbsp;&nbsp;            
                                    <button type="submit" class="btn btn-primary mb-2">SUBMIT</button></div>

                            </fieldset>
                        </form></div></div></div>
        </div>

    </body>
</html>
